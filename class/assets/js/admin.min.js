(function(e){"use strict";e(function(){var t=e(".fs-color-picker"),n=e(".outdated-post-notice"),r=e(".fs-border-color"),i=e(".outdated-post-notice-enabled"),s=e(".outdated-post-notice-message"),o=e(".outdated-post-notice-days"),u=e(".outdated-post-notice-preview");var a=function(e,t){var n=false;if(e[0]=="#"){e=e.slice(1);n=true}var r=parseInt(e,16),i=(r>>16)+t;if(i>255){i=255}else if(i<0){i=0}var s=(r>>8&255)+t;if(s>255){s=255}else if(s<0){s=0}var o=(r&255)+t;if(o>255){o=255}else if(o<0){o=0}return(n?"#":"")+(o|s<<8|i<<16).toString(16)};var f=function(e,t){var i=a(e,-20);switch(t){case"bg-color":n.css("background",e);n.css("border","1px solid "+i);r.val(a(i,-20));break;case"text-color":n.css("color",e);break}};var l=function(t){var n=t.val();if(e.trim(n).length===0){u.html(c)}else{e.each(fs_outdated_post_notice_var,function(e,t){n=n.replace(e,t)});u.html(n)}};if(t.length){t.each(function(){var t=e(this);f(t.val(),t.data("el"))});t.iris({change:function(t,n){f(n.color.toString(),e(this).data("el"))}});e(document).on("click",function(n){if(!e(n.target).is(".fs-color-picker, .iris-picker, .iris-picker-inner")){t.iris("hide")}});t.on("click",function(n){t.iris("hide");e(this).iris("show");n.preventDefault()})}if(s.length){var c="Please write your notice first.";i.on("change",function(t){if(e(this).is(":checked")){s.prop("readonly",false);o.prop("readonly",false)}else{s.prop("readonly",true);o.prop("readonly",true)}});l(s);s.on("keyup",function(){l(s)})}})})(jQuery)